<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Pilates Marseille</title>
  <link rel="icon" type="image/png" href="img/favicon.png"/>

  <!-- Change: Added Bootstrap CSS link (it's therefore not using the downloaded version coming with the template, but the CDN) -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">

  <!-- Links to Google fonts -->
  <link href="https://fonts.googleapis.com/css?family=Gaegu" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Tajawal" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Oxygen" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=PT+Serif" rel="stylesheet">

  <!-- Fontawesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg" crossorigin="anonymous">

  <!-- Custom style -->
  <link href="css/style.css" rel="stylesheet">

</head>

<body>

  <header>
    <nav class="navbar navbar-expand-lg fixed-top">
      <a class="navbar-brand ml-5" href="index.html">Pilates Marseille</a>
      <!-- Toggler -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
        <span>
        <i class="fas fa-bars"></i>
        </span>
      </button>
      <!-- Navs -->
      <div class="collapse navbar-collapse" id="navbarToggler">
        <ul class="navbar-nav ml-auto mr-5">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="schedule.html">Schedule</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="prices.html">Prices</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="about.html">About</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link current" href="contact.html">Contact</a>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <section>
    <p class="text-center">!! This form is not working !!</p>
    <form class="container col-sm-8" id="contactform">
      <div class="form-group">
        <label for="exampleFormControlInput2">Your name</label>
        <input type="text" class="form-control" id="name" placeholder="Name Surname" required>
      </div>
      <div class="form-group">
        <label for="exampleFormControlInput1">Your email address</label>
        <input type="email" class="form-control" id="email" placeholder="name@example.com" required>
      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1">Select the object of your message</label>
        <select class="form-control" id="object">
          <option>Book a trial lesson</option>
          <option>Buy units</option>
          <option>Become a member</option>
          <option>General information enquiry</option>
        </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlTextarea1">Type your message</label>
        <textarea class="form-control" id="message" rows="3" required></textarea>
      </div>
      <button type="submit" class="btn btn-primary mb-2">Send</button>
    </form>
    <div id="error_message" style="width:100%; height:100%; display:none; ">
      <h4>Error</h4>
      Please include your name, email address and a text message so that we can contact you.
    </div>
    <div id="success_message" style="width:100%; height:100%; display:none; ">
      <h2>Thank you for your message! We will get back to you as soon as possible.</h2>
    </div>
  </section>


  <footer class="footer">
    <div class="container-fluid py-2">
        <span>
          Contact us!<br/>
          <p>
          <a href="#"><i class="fas fa-at"></i> </a>
          <a href="#"><i class="fab fa-facebook-square"></i> </a>
          <a href="#"><i class="fab fa-instagram"></i></a><br/>
          </p>
          <p id="copyright">Copyright &#169; 2018 Fanny Kassapian</p>
        </span>
      </div>
  </footer>

  <!-- Bootstrap JavaScript -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>

  <!-- Contact form JQuery -->
  <script>
  $(function()
  {
      function after_form_submitted(data)
      {
          if(data.result == 'success')
          {
              $('form#contactform').hide();
              $('#success_message').show();
              $('#error_message').hide();
          }
          else
          {
              $('#error_message').append('<ul></ul>');

              jQuery.each(data.errors,function(key,val)
              {
                  $('#error_message ul').append('<li>'+key+':'+val+'</li>');
              });
              $('#success_message').hide();
              $('#error_message').show();

              //reverse the response on the button
              $('button[type="button"]', $form).each(function()
              {
                  $btn = $(this);
                  label = $btn.prop('orig_label');
                  if(label)
                  {
                      $btn.prop('type','submit' );
                      $btn.text(label);
                      $btn.prop('orig_label','');
                  }
              });

          }//else
      }

  	$('#contactform').submit(function(e)
        {
          e.preventDefault();

          $form = $(this);
          //show some response on the button
          $('button[type="submit"]', $form).each(function()
          {
              $btn = $(this);
              $btn.prop('type','button' );
              $btn.prop('orig_label',$btn.text());
              $btn.text('Sending ...');
          });


                      $.ajax({
                  type: "POST",
                  url: 'handler.php',
                  data: $form.serialize(),
                  success: after_form_submitted,
                  dataType: 'json'
              });

        });
  });
  </script>


</body>

</html>
